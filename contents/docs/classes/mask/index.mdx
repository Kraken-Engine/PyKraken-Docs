---
title: Mask
description: A collision mask for pixel-perfect collision detection. Access via the '' submodule.
---

## Constructor
<div className="api-card">

- <ApiSig name="Mask" returns="Mask" />
- <ApiSig name="Mask" params={[{ name: "size", type: "Vec2" }, { name: "filled", type: "bool", default: "False" }]} returns="Mask" />
- <ApiSig name="Mask" multiline params={[{ name: "pixel_array", type: "PixelArray" }, { name: "threshold", type: "SupportsInt", default: "1" }]} returns="Mask" />

A collision mask for pixel-perfect collision detection.
</div>

## Properties
<hr style={{marginBottom: 0}} />

| Name | Description | Type |
| --- | --- | --- |
| `height` | The height of the mask in pixels. | <code>int</code> |
| `size` | The size of the mask as a Vec2. | <code><a href="/docs/classes/vec2">Vec2</a></code> |
| `width` | The width of the mask in pixels. | <code>int</code> |

## Methods
---

### Add
<div className="api-card">
<ApiSig name="add" params={[{ name: "other", type: "Mask" }, { name: "offset", type: "Any", default: "None" }]} returns="None" />

Add another mask to this mask with an offset.

Performs a bitwise OR operation between the masks.

_**Args**_

- `other` : The mask to add.
- `offset` : Position offset for the other mask. Defaults to (0, 0).

</div>

### Clear
<div className="api-card">
<ApiSig name="clear" returns="None" />

Clear the entire mask, setting all pixels to transparent.

</div>

### Collide Mask
<div className="api-card">
<ApiSig name="collide_mask" params={[{ name: "other", type: "Mask" }, { name: "offset", type: "Any", default: "None" }]} returns="bool" />

Check collision between this mask and another mask with an offset.

_**Args**_

- `other` : The other mask to test collision with.
- `offset` : Position offset between the masks. Defaults to (0, 0).

_**Returns**_

`bool` : True if the masks collide, False otherwise.

</div>

### Copy
<div className="api-card">
<ApiSig name="copy" returns="Mask" />

Create a copy of this mask.

_**Returns**_

`Mask` : A new Mask with the same dimensions and pixel data.

</div>

### Fill
<div className="api-card">
<ApiSig name="fill" returns="None" />

Fill the entire mask with solid pixels.

</div>

### Get At
<div className="api-card">
<ApiSig name="get_at" params={[{ name: "pos", type: "Vec2" }]} returns="bool" />

Get the pixel value at a specific position.

_**Args**_

- `pos` : The position to check.

_**Returns**_

`bool` : True if the pixel is solid (above threshold), False otherwise.

</div>

### Get Bounding Rect
<div className="api-card">
<ApiSig name="get_bounding_rect" returns="Rect" />

Get the bounding rectangle that contains all solid pixels.

_**Returns**_

`Rect` : The smallest rectangle containing all solid pixels.
          Returns empty rect if mask has no solid pixels.

</div>

### Get Center Of Mass
<div className="api-card">
<ApiSig name="get_center_of_mass" returns="Vec2" />

Calculate the center of mass of all solid pixels.

_**Returns**_

`Vec2` : The center of mass position. Returns (0, 0) if mask is empty.

</div>

### Get Collision Points
<div className="api-card">
<ApiSig name="get_collision_points" params={[{ name: "other", type: "Mask" }, { name: "offset", type: "Any", default: "None" }]} returns="list[Vec2]" />

Get all points where this mask collides with another mask.

_**Args**_

- `other` : The other mask to test collision with.
- `offset` : Position offset between the masks. Defaults to (0, 0).

_**Returns**_

`list[Vec2]` : A list of collision points.

</div>

### Get Count
<div className="api-card">
<ApiSig name="get_count" returns="int" />

Get the number of solid pixels in the mask.

_**Returns**_

`int` : The count of solid pixels.

</div>

### Get Outline
<div className="api-card">
<ApiSig name="get_outline" returns="list[Vec2]" />

Get the outline points of the mask.

Returns a list of points that form the outline of all solid regions.

_**Returns**_

`list[Vec2]` : A list of outline points.

</div>

### Get Overlap Area
<div className="api-card">
<ApiSig name="get_overlap_area" params={[{ name: "other", type: "Mask" }, { name: "offset", type: "Any", default: "None" }]} returns="int" />

Get the number of overlapping pixels between this mask and another.

_**Args**_

- `other` : The other mask to check overlap with.
- `offset` : Position offset between the masks. Defaults to (0, 0).

_**Returns**_

`int` : The number of overlapping solid pixels.

</div>

### Get Overlap Mask
<div className="api-card">
<ApiSig name="get_overlap_mask" params={[{ name: "other", type: "Mask" }, { name: "offset", type: "Any", default: "None" }]} returns="Mask" />

Get a mask representing the overlapping area between this mask and another.

_**Args**_

- `other` : The other mask to check overlap with.
- `offset` : Position offset between the masks. Defaults to (0, 0).

_**Returns**_

`Mask` : A new mask containing only the overlapping pixels.

</div>

### Get Pixel Array
<div className="api-card">
<ApiSig name="get_pixel_array" params={[{ name: "color", type: "Any", default: "None" }]} returns="PixelArray" />

Convert the mask to a pixel array with the specified color.

Solid pixels become the specified color, transparent pixels become transparent.

_**Args**_

- `color` : The color to use for solid pixels. Defaults to white (255, 255, 255, 255).

_**Returns**_

`PixelArray` : A new pixel array representation of the mask.

_**Raises**_

- `RuntimeError` : If pixel array creation fails.

</div>

### Get Rect
<div className="api-card">
<ApiSig name="get_rect" returns="Rect" />

Get the bounding rectangle of the mask starting at (0, 0).

</div>

### Invert
<div className="api-card">
<ApiSig name="invert" returns="None" />

Invert all pixels in the mask.

Solid pixels become transparent and transparent pixels become solid.

</div>

### Is Empty
<div className="api-card">
<ApiSig name="is_empty" returns="bool" />

Check if the mask contains no solid pixels.

_**Returns**_

`bool` : True if the mask is empty, False otherwise.

</div>

### Set At
<div className="api-card">
<ApiSig name="set_at" params={[{ name: "pos", type: "Vec2" }, { name: "value", type: "bool" }]} returns="None" />

Set the pixel value at a specific position.

_**Args**_

- `pos` : The position to set.
- `value` : The pixel value (True for solid, False for transparent).

</div>

### Subtract
<div className="api-card">
<ApiSig name="subtract" params={[{ name: "other", type: "Mask" }, { name: "offset", type: "Any", default: "None" }]} returns="None" />

Subtract another mask from this mask with an offset.

Removes pixels where the other mask has solid pixels.

_**Args**_

- `other` : The mask to subtract.
- `offset` : Position offset for the other mask. Defaults to (0, 0).

</div>
